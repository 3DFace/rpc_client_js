{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///rpc_client.min.js","webpack:///webpack/bootstrap 94835a4d0e60b41a2e61","webpack:///./src/HookLayer.js","webpack:///./src/JsonLayer.js","webpack:///./src/LogLayer.js","webpack:///./src/ProtocolLayer.js","webpack:///./src/RpcClient.js","webpack:///./src/AjaxLayer.js","webpack:///./src/CreateNodeRpcClient.js","webpack:///./src/RequestLayer.js","webpack:///./src/ApiGenerator.js","webpack:///./src/CreateBrowserRpcClient.js","webpack:///./src/BatchLayer.js","webpack:///./src/index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","o","object","property","prototype","hasOwnProperty","p","s","HookLayer","protocol_layer","layer_fn","send","calls","JsonLayer","text_transport_layer","request","Promise","resolve","reject","json","JSON","stringify","then","json_response","response","parse","e","message","code","LogLayer","log_request_fn","log_response_fn","log_error_fn","length","join","promises","error","logger","extractResult","undefined","ProtocolLayer","json_layer","id","Array","callbacks","formed_calls","service","method","parameters","push","result","r","RpcClient","client","params","batch","callback","batchLayer","__WEBPACK_IMPORTED_MODULE_0__BatchLayer__","batchClient","flush","AjaxLayer","url","pre_request_fn","post_request_fn","request_str","xhr","XMLHttpRequest","open","withCredentials","onload","status","statusText","onerror","CreateNodeRpcClient","request_fn","options","httpLayer","__WEBPACK_IMPORTED_MODULE_5__RequestLayer__","jsonLayer","__WEBPACK_IMPORTED_MODULE_1__JsonLayer__","protocolLayer","__WEBPACK_IMPORTED_MODULE_2__ProtocolLayer__","lo","log","logLayer","__WEBPACK_IMPORTED_MODULE_0__LogLayer__","topLayer","hook","__WEBPACK_IMPORTED_MODULE_4__HookLayer__","__WEBPACK_IMPORTED_MODULE_3__RpcClient__","RequestLayer","requestOptions","uri","body","jar","statusCode","ApiGenerator","loadContainer","pathName","items","subPromises","forEach","container","iName","all","generateServiceClass","className","serviceDef","indent","methods","generateContainerClass","tree","path","services","iClass","toUpperCase","substr","iVar","iPath","console","bind","__WEBPACK_IMPORTED_MODULE_0__CreateNodeRpcClient__","generate","rootClassName","rootContainer","rootClass","CreateBrowserRpcClient","httpOpt","http","__WEBPACK_IMPORTED_MODULE_0__AjaxLayer__","pre_request","post_request","__WEBPACK_IMPORTED_MODULE_2__JsonLayer__","__WEBPACK_IMPORTED_MODULE_3__ProtocolLayer__","__WEBPACK_IMPORTED_MODULE_1__LogLayer__","__WEBPACK_IMPORTED_MODULE_5__RpcClient__","BatchLayer","layer","calls_acc","callbacks_acc","concat","__WEBPACK_IMPORTED_MODULE_3__HookLayer__","__WEBPACK_IMPORTED_MODULE_4__ProtocolLayer__","__WEBPACK_IMPORTED_MODULE_6__RequestLayer__","__WEBPACK_IMPORTED_MODULE_7__CreateNodeRpcClient__","__WEBPACK_IMPORTED_MODULE_8__CreateBrowserRpcClient__","__WEBPACK_IMPORTED_MODULE_9__ApiGenerator__"],"mappings":"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","file":"rpc_client.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rpc_client\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rpc_client\"] = factory();\n\telse\n\t\troot[\"rpc_client\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rpc_client\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rpc_client\"] = factory();\n\telse\n\t\troot[\"rpc_client\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t/**\n\t * @param protocol_layer\n\t * @param {function} layer_fn\n\t * @constructor\n\t */\n\tfunction HookLayer(protocol_layer, layer_fn){\n\t\tthis.send = function(calls){\n\t\t\treturn layer_fn(calls, protocol_layer);\n\t\t}\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = HookLayer;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t/**\n\t * @param {object} text_transport_layer\n\t * @constructor\n\t */\n\tfunction JsonLayer(text_transport_layer){\n\t\n\t\tthis.send = function(request){\n\t\n\t\t\treturn new Promise(function(resolve, reject){\n\t\t\t\ttry{\n\t\t\t\t\tvar json = JSON.stringify(request);\n\t\n\t\t\t\t\ttext_transport_layer.send(json).then(function(json_response){\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tvar response = JSON.parse(json_response);\n\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\treject({\n\t\t\t\t\t\t\t\tname: \"JsonLayerError\",\n\t\t\t\t\t\t\t\tmessage: e.name + \": \" + e.message + \"\\n\" + json_response,\n\t\t\t\t\t\t\t\tcode: 1\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}, reject);\n\t\t\t\t}catch(e){\n\t\t\t\t\treject({\n\t\t\t\t\t\tname: \"JsonLayerError\",\n\t\t\t\t\t\tmessage: e.name + \": \" + e.message,\n\t\t\t\t\t\tcode: 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = JsonLayer;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t/**\n\t * @param {object} protocol_layer\n\t * @param {function} log_request_fn\n\t * @param {function} log_response_fn\n\t * @param {function} log_error_fn\n\t * @constructor\n\t */\n\tfunction LogLayer(protocol_layer, log_request_fn, log_response_fn, log_error_fn){\n\t\n\t\tthis.send = function(calls){\n\t\n\t\t\tvar i, call;\n\t\t\tif(log_request_fn){\n\t\t\t\tfor(i = 0; i < calls.length; i++){\n\t\t\t\t\tcall = calls[i];\n\t\t\t\t\tlog_request_fn(\"call[\" + i + \"]\", call[0] + '->' + call[1] + '(' + (call[2] && call[2].join(', ') || '') + ')');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tvar promises = protocol_layer.send(calls);\n\t\n\t\t\tif(log_response_fn || log_error_fn){\n\t\t\t\tfor(i = 0; i < promises.length; i++){\n\t\t\t\t\t(function(i){\n\t\t\t\t\t\tpromises[i].then(function(response){\n\t\t\t\t\t\t\tlog_response_fn && log_response_fn(\"result[\" + i + \"]\", response);\n\t\t\t\t\t\t\treturn response;\n\t\t\t\t\t\t}, function(error){\n\t\t\t\t\t\t\tvar logger = log_error_fn || log_response_fn;\n\t\t\t\t\t\t\tlogger && logger(\"error[\" + i + \"]\", error);\n\t\t\t\t\t\t})\n\t\t\t\t\t})(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn promises;\n\t\t}\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = LogLayer;\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\tfunction extractResult(response){\n\t\tif(typeof response !== \"object\"){\n\t\t\tthrow {name: \"RpcProtocolError\", message: \"Bad response format: object expected, got \" + (typeof response), code: 1};\n\t\t}\n\t\tif(response[\"status\"] === undefined){\n\t\t\tthrow {name: \"RpcProtocolError\", message: \"no status\", code: 1};\n\t\t}\n\t\tif(response[\"result\"] === undefined){\n\t\t\tthrow {name: \"RpcProtocolError\", message: \"no result\", code: 1};\n\t\t}\n\t\tif(!response[\"status\"]){\n\t\t\tthrow {name: response[\"result\"][\"type\"] || \"UnknownError\", message: response[\"result\"][\"message\"] || \"\", code: response[\"result\"][\"code\"] || 0};\n\t\t}\n\t\treturn response[\"result\"];\n\t}\n\t\n\t/**\n\t * @param {object} json_layer\n\t * @constructor\n\t */\n\tfunction ProtocolLayer(json_layer){\n\t\n\t\tvar id = 1;\n\t\n\t\tthis.send = function(calls){\n\t\n\t\t\tvar i, call;\n\t\t\tvar promises = new Array(calls.length);\n\t\t\tvar callbacks = [];\n\t\t\tif(calls.length > 0){\n\t\n\t\t\t\tvar formed_calls = new Array(calls.length);\n\t\n\t\t\t\tfor(i = 0; i < calls.length; i++){\n\t\t\t\t\tcall = calls[i];\n\t\t\t\t\tformed_calls[i] = {\n\t\t\t\t\t\tservice: call[0],\n\t\t\t\t\t\tmethod: call[1]\n\t\t\t\t\t};\n\t\t\t\t\tif(call[2] && call[2].length > 0){\n\t\t\t\t\t\tformed_calls[i].parameters = call[2];\n\t\t\t\t\t}\n\t\t\t\t\tpromises[i] = new Promise(function(resolve, reject){\n\t\t\t\t\t\tcallbacks.push([resolve, reject]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tvar request = {\n\t\t\t\t\tid: id++,\n\t\t\t\t\tcalls: formed_calls\n\t\t\t\t};\n\t\n\t\t\t\tjson_layer.send(request).then(function(response){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tvar result = extractResult(response);\n\t\t\t\t\t\tfor(i = 0; i < callbacks.length; i++){\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tvar r = extractResult(result[i]);\n\t\t\t\t\t\t\t\tcallbacks[i][0](r);\n\t\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\t\tcallbacks[i][1](e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}catch(e){\n\t\t\t\t\t\tfor(i = 0; i < callbacks.length; i++){\n\t\t\t\t\t\t\tcallbacks[i][1](e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, function(e){\n\t\t\t\t\tfor(i = 0; i < callbacks.length; i++){\n\t\t\t\t\t\tcallbacks[i][1](e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn promises;\n\t\t}\n\t\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = ProtocolLayer;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__BatchLayer__ = __webpack_require__(10);\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t\n\t\n\t/**\n\t * @param {object} protocol_layer\n\t * @constructor\n\t */\n\tfunction RpcClient(protocol_layer){\n\t\n\t\tvar client = this;\n\t\n\t\tclient.call = function(service, method, params){\n\t\t\treturn protocol_layer.send([[service, method, params]])[0];\n\t\t};\n\t\n\t\tclient.batch = function(callback){\n\t\t\tvar batchLayer = new __WEBPACK_IMPORTED_MODULE_0__BatchLayer__[\"a\" /* default */]();\n\t\t\tvar batchClient = new RpcClient(batchLayer);\n\t\t\tcallback(batchClient);\n\t\t\treturn batchLayer.flush(protocol_layer);\n\t\t};\n\t\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = RpcClient;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t/**\n\t * @param {string} url RPC-server URL\n\t * @param {function} pre_request_fn hook fn(xhr)\n\t * @param {function} post_request_fn hook fn(xhr)\n\t * @constructor\n\t */\n\t\n\tfunction AjaxLayer(url, pre_request_fn, post_request_fn){\n\t\n\t\tthis.send = function(request_str){\n\t\n\t\t\treturn new Promise(function(resolve, reject){\n\t\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\t\txhr.open(\"POST\", url, true);\n\t\t\t\txhr.withCredentials = true;\n\t\t\t\tpre_request_fn && pre_request_fn(xhr);\n\t\n\t\t\t\txhr.onload = function(){\n\t\t\t\t\tpost_request_fn && post_request_fn(xhr, true);\n\t\t\t\t\tif(this.status >= 200 && this.status < 300){\n\t\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treject({\n\t\t\t\t\t\t\tstatus: this.status,\n\t\t\t\t\t\t\tstatusText: xhr.statusText\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\t\txhr.onerror = function(){\n\t\t\t\t\tpost_request_fn && post_request_fn(xhr, false);\n\t\t\t\t\treject({\n\t\t\t\t\t\tstatus: this.status,\n\t\t\t\t\t\tstatusText: xhr.statusText\n\t\t\t\t\t});\n\t\t\t\t};\n\t\n\t\t\t\txhr.send(request_str);\n\t\t\t});\n\t\n\t\t}\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = AjaxLayer;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__LogLayer__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__JsonLayer__ = __webpack_require__(1);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ProtocolLayer__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__RpcClient__ = __webpack_require__(4);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__HookLayer__ = __webpack_require__(0);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RequestLayer__ = __webpack_require__(7);\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tfunction CreateNodeRpcClient(url, request_fn, options){\n\t\tvar httpLayer = new __WEBPACK_IMPORTED_MODULE_5__RequestLayer__[\"a\" /* default */](url, request_fn);\n\t\tvar jsonLayer = new __WEBPACK_IMPORTED_MODULE_1__JsonLayer__[\"a\" /* default */](httpLayer);\n\t\tvar protocolLayer = new __WEBPACK_IMPORTED_MODULE_2__ProtocolLayer__[\"a\" /* default */](jsonLayer);\n\t\tvar lo = options && options.log || {};\n\t\tvar logLayer = new __WEBPACK_IMPORTED_MODULE_0__LogLayer__[\"a\" /* default */](protocolLayer, lo.request, lo.response, lo.error);\n\t\tvar topLayer = options.hook ? new __WEBPACK_IMPORTED_MODULE_4__HookLayer__[\"a\" /* default */](logLayer, options.hook) : logLayer;\n\t\treturn new __WEBPACK_IMPORTED_MODULE_3__RpcClient__[\"a\" /* default */](topLayer);\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = CreateNodeRpcClient;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t/**\n\t* @param {string} url RPC-server URL\n\t* @param {function} request_fn 'request' library fn(requestOptions, callback)\n\t* @constructor\n\t*/\n\tfunction RequestLayer(url, request_fn){\n\t\n\t\tthis.send = function(request_str){\n\t\n\t\t\treturn new Promise(function(resolve, reject){\n\t\n\t\t\t\tvar requestOptions = {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\turi: url,\n\t\t\t\t\tbody: request_str,\n\t\t\t\t\tjar: true\n\t\t\t\t};\n\t\n\t\t\t\trequest_fn(requestOptions, function(error, response, body){\n\t\t\t\t\t\tvar status = response && response.statusCode;\n\t\t\t\t\t\tif(!error && status >= 200 && status < 300){\n\t\t\t\t\t\t\tresolve(body);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treject({\n\t\t\t\t\t\t\t\tstatus: status,\n\t\t\t\t\t\t\t\terror: error\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\n\t\t}\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = RequestLayer;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CreateNodeRpcClient__ = __webpack_require__(6);\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t\n\t\n\t/**\n\t * @constructor\n\t */\n\tfunction ApiGenerator(url, request_fn){\n\t\n\t\tvar log = console.log.bind(console);\n\t\tvar call = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__CreateNodeRpcClient__[\"a\" /* default */])(url, request_fn, {log: {error: log}}).call;\n\t\n\t\tthis.generate = function(rootClassName, rootContainer){\n\t\t\treturn loadContainer(rootContainer || null).then(function(tree){\n\t\t\t\tvar rootClass = generateContainerClass(rootClassName, tree, \"\");\n\t\t\t\treturn \"// GENERATED CODE\\n\\n\" + rootClass + \"\\nexport default \"  + rootClassName + \";\\n\";\n\t\t\t}, log);\n\t\t};\n\t\n\t\tfunction loadContainer(pathName){\n\t\n\t\t\treturn new Promise(function(resolve, reject){\n\t\t\t\tcall(\"explorer\", \"getServicesInfo\", [pathName]).then(function(items){\n\t\t\t\t\tvar subPromises = [];\n\t\t\t\t\titems.forEach(function(i){\n\t\t\t\t\t\tif(i.container){\n\t\t\t\t\t\t\tvar iName = pathName ? pathName + '/' + e.name : i.name;\n\t\t\t\t\t\t\tsubPromises.push(loadContainer(iName));\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tsubPromises.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tPromise.all(subPromises).then(function(items){\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tname: pathName,\n\t\t\t\t\t\t\tcontainer: true,\n\t\t\t\t\t\t\titems: items\n\t\t\t\t\t\t});\n\t\t\t\t\t}, reject);\n\t\t\t\t});\n\t\t\t})\n\t\t}\n\t\n\t\tfunction generateServiceClass(className, serviceDef, indent){\n\t\t\tvar result = \"\";\n\t\t\tresult += indent + \"/**\\n\";\n\t\t\tresult += indent + \" * @constructor\\n\";\n\t\t\tresult += indent + \" */\\n\";\n\t\t\tresult += indent + \"function \" + className + \"(call, servicePath){\\n\";\n\t\t\tserviceDef.methods.forEach(function(m){\n\t\t\t\tresult += \"\\n\";\n\t\t\t\tvar params = m.params.join(\", \");\n\t\t\t\tresult += indent + \"\\t/**\\n\";\n\t\t\t\tresult += indent + \"\\t * @return {Promise}\\n\";\n\t\t\t\tresult += indent + \"\\t */\\n\";\n\t\t\t\tresult += indent + \"\\tthis.\" + m.name + \" = \" + \"function(\" + params + \"){\\n\";\n\t\t\t\tresult += indent + \"\\t\\treturn call(servicePath, '\" + m.name + \"', [\" + params +\"]);\\n\";\n\t\t\t\tresult += indent + \"\\t};\\n\";\n\t\t\t});\n\t\t\tresult += indent + \"}\\n\";\n\t\t\treturn result;\n\t\t}\n\t\n\t\tfunction generateContainerClass(className, tree, indent, path){\n\t\t\tvar result = \"\";\n\t\t\tvar services = [];\n\t\t\tresult += indent + \"/**\\n\";\n\t\t\tresult += indent + \" * @constructor\\n\";\n\t\t\tresult += indent + \" */\\n\";\n\t\t\tresult += indent + \"function \" + className + \"(call){\\n\";\n\t\t\ttree.items.forEach(function(i){\n\t\t\t\tvar iClass = i.name[0].toUpperCase() + i.name.substr(1);\n\t\t\t\tvar iVar = i.name;\n\t\t\t\tvar iPath = path ? path + '/' + i.name : i.name;\n\t\t\t\tvar service;\n\t\t\t\tif(i.container){\n\t\t\t\t\tresult += \"\\n\" + generateContainerClass(iClass, i, indent + \"\\t\", iPath);\n\t\t\t\t\tservice = indent + \"\\tthis.\" + iVar + \" = new \" + iClass + \"(call);\\n\";\n\t\t\t\t}else{\n\t\t\t\t\tresult += \"\\n\" + generateServiceClass(iClass, i, indent + \"\\t\");\n\t\t\t\t\tservice = indent + \"\\tthis.\" + iVar + \" = new \" + iClass + \"(call, '\" + iPath + \"');\\n\";\n\t\t\t\t}\n\t\t\t\tservices.push(service);\n\t\t\t});\n\t\t\tresult += \"\\n\" + services.join(\"\") + \"\\n\";\n\t\t\tresult += indent + \"}\\n\";\n\t\t\treturn result;\n\t\t}\n\t\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = ApiGenerator;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__AjaxLayer__ = __webpack_require__(5);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__LogLayer__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__JsonLayer__ = __webpack_require__(1);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ProtocolLayer__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__HookLayer__ = __webpack_require__(0);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RpcClient__ = __webpack_require__(4);\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tfunction CreateBrowserRpcClient(url, options){\n\t\tvar httpOpt = options && options.http || {};\n\t\tvar httpLayer = new __WEBPACK_IMPORTED_MODULE_0__AjaxLayer__[\"a\" /* default */](url, httpOpt.pre_request, httpOpt.post_request);\n\t\tvar jsonLayer = new __WEBPACK_IMPORTED_MODULE_2__JsonLayer__[\"a\" /* default */](httpLayer);\n\t\tvar protocolLayer = new __WEBPACK_IMPORTED_MODULE_3__ProtocolLayer__[\"a\" /* default */](jsonLayer);\n\t\tvar lo = options && options.log || {};\n\t\tvar logLayer = new __WEBPACK_IMPORTED_MODULE_1__LogLayer__[\"a\" /* default */](protocolLayer, lo.request, lo.response, lo.error);\n\t\tvar topLayer = options.hook ? new __WEBPACK_IMPORTED_MODULE_4__HookLayer__[\"a\" /* default */](logLayer, options.hook) : logLayer;\n\t\treturn new __WEBPACK_IMPORTED_MODULE_5__RpcClient__[\"a\" /* default */](topLayer);\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = CreateBrowserRpcClient;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t/**\n\t * @constructor\n\t */\n\tfunction BatchLayer(){\n\t\n\t\tvar layer = this;\n\t\tvar i, calls_acc = [], callbacks_acc = [];\n\t\n\t\tlayer.send = function(calls){\n\t\t\tvar promises = new Array(calls.length);\n\t\t\tcalls_acc = calls_acc.concat(calls);\n\t\t\tfor(i = 0; i < calls.length; i++){\n\t\t\t\tpromises[i] = new Promise(function(resolve, reject){\n\t\t\t\t\tcallbacks_acc.push([resolve, reject]);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn promises;\n\t\t};\n\t\n\t\tlayer.flush = function(protocol_layer){\n\t\t\tvar promises = protocol_layer.send(calls_acc);\n\t\t\tfor(var i = 0; i < callbacks_acc.length; i++){\n\t\t\t\tpromises[i].then(callbacks_acc[i][0], callbacks_acc[i][1]);\n\t\t\t}\n\t\t\treturn promises;\n\t\t};\n\t\n\t}\n\t\n\t/* harmony default export */ exports[\"a\"] = BatchLayer;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__AjaxLayer__ = __webpack_require__(5);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__LogLayer__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__JsonLayer__ = __webpack_require__(1);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__HookLayer__ = __webpack_require__(0);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ProtocolLayer__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RpcClient__ = __webpack_require__(4);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__RequestLayer__ = __webpack_require__(7);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__CreateNodeRpcClient__ = __webpack_require__(6);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__CreateBrowserRpcClient__ = __webpack_require__(9);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ApiGenerator__ = __webpack_require__(8);\n\t/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_9__ApiGenerator__, \"a\")) __webpack_require__.d(exports, \"ApiGenerator\", function() { return __WEBPACK_IMPORTED_MODULE_9__ApiGenerator__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__AjaxLayer__, \"a\")) __webpack_require__.d(exports, \"AjaxLayer\", function() { return __WEBPACK_IMPORTED_MODULE_0__AjaxLayer__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__LogLayer__, \"a\")) __webpack_require__.d(exports, \"LogLayer\", function() { return __WEBPACK_IMPORTED_MODULE_1__LogLayer__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__JsonLayer__, \"a\")) __webpack_require__.d(exports, \"JsonLayer\", function() { return __WEBPACK_IMPORTED_MODULE_2__JsonLayer__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_3__HookLayer__, \"a\")) __webpack_require__.d(exports, \"HookLayer\", function() { return __WEBPACK_IMPORTED_MODULE_3__HookLayer__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_4__ProtocolLayer__, \"a\")) __webpack_require__.d(exports, \"ProtocolLayer\", function() { return __WEBPACK_IMPORTED_MODULE_4__ProtocolLayer__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_5__RpcClient__, \"a\")) __webpack_require__.d(exports, \"RpcClient\", function() { return __WEBPACK_IMPORTED_MODULE_5__RpcClient__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_6__RequestLayer__, \"a\")) __webpack_require__.d(exports, \"RequestLayer\", function() { return __WEBPACK_IMPORTED_MODULE_6__RequestLayer__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_7__CreateNodeRpcClient__, \"a\")) __webpack_require__.d(exports, \"CreateNodeRpcClient\", function() { return __WEBPACK_IMPORTED_MODULE_7__CreateNodeRpcClient__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_8__CreateBrowserRpcClient__, \"a\")) __webpack_require__.d(exports, \"CreateBrowserRpcClient\", function() { return __WEBPACK_IMPORTED_MODULE_8__CreateBrowserRpcClient__[\"a\"]; });\n\t\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// rpc_client.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 94835a4d0e60b41a2e61","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\n/**\n * @param protocol_layer\n * @param {function} layer_fn\n * @constructor\n */\nfunction HookLayer(protocol_layer, layer_fn){\n\tthis.send = function(calls){\n\t\treturn layer_fn(calls, protocol_layer);\n\t}\n}\n\nexport default HookLayer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/HookLayer.js\n// module id = 0\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\n/**\n * @param {object} text_transport_layer\n * @constructor\n */\nfunction JsonLayer(text_transport_layer){\n\n\tthis.send = function(request){\n\n\t\treturn new Promise(function(resolve, reject){\n\t\t\ttry{\n\t\t\t\tvar json = JSON.stringify(request);\n\n\t\t\t\ttext_transport_layer.send(json).then(function(json_response){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tvar response = JSON.parse(json_response);\n\t\t\t\t\t}catch(e){\n\t\t\t\t\t\treject({\n\t\t\t\t\t\t\tname: \"JsonLayerError\",\n\t\t\t\t\t\t\tmessage: e.name + \": \" + e.message + \"\\n\" + json_response,\n\t\t\t\t\t\t\tcode: 1\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tresolve(response);\n\t\t\t\t}, reject);\n\t\t\t}catch(e){\n\t\t\t\treject({\n\t\t\t\t\tname: \"JsonLayerError\",\n\t\t\t\t\tmessage: e.name + \": \" + e.message,\n\t\t\t\t\tcode: 1\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport default JsonLayer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/JsonLayer.js\n// module id = 1\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\n/**\n * @param {object} protocol_layer\n * @param {function} log_request_fn\n * @param {function} log_response_fn\n * @param {function} log_error_fn\n * @constructor\n */\nfunction LogLayer(protocol_layer, log_request_fn, log_response_fn, log_error_fn){\n\n\tthis.send = function(calls){\n\n\t\tvar i, call;\n\t\tif(log_request_fn){\n\t\t\tfor(i = 0; i < calls.length; i++){\n\t\t\t\tcall = calls[i];\n\t\t\t\tlog_request_fn(\"call[\" + i + \"]\", call[0] + '->' + call[1] + '(' + (call[2] && call[2].join(', ') || '') + ')');\n\t\t\t}\n\t\t}\n\n\t\tvar promises = protocol_layer.send(calls);\n\n\t\tif(log_response_fn || log_error_fn){\n\t\t\tfor(i = 0; i < promises.length; i++){\n\t\t\t\t(function(i){\n\t\t\t\t\tpromises[i].then(function(response){\n\t\t\t\t\t\tlog_response_fn && log_response_fn(\"result[\" + i + \"]\", response);\n\t\t\t\t\t\treturn response;\n\t\t\t\t\t}, function(error){\n\t\t\t\t\t\tvar logger = log_error_fn || log_response_fn;\n\t\t\t\t\t\tlogger && logger(\"error[\" + i + \"]\", error);\n\t\t\t\t\t})\n\t\t\t\t})(i);\n\t\t\t}\n\t\t}\n\t\treturn promises;\n\t}\n}\n\nexport  default LogLayer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/LogLayer.js\n// module id = 2\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\nfunction extractResult(response){\n\tif(typeof response !== \"object\"){\n\t\tthrow {name: \"RpcProtocolError\", message: \"Bad response format: object expected, got \" + (typeof response), code: 1};\n\t}\n\tif(response[\"status\"] === undefined){\n\t\tthrow {name: \"RpcProtocolError\", message: \"no status\", code: 1};\n\t}\n\tif(response[\"result\"] === undefined){\n\t\tthrow {name: \"RpcProtocolError\", message: \"no result\", code: 1};\n\t}\n\tif(!response[\"status\"]){\n\t\tthrow {name: response[\"result\"][\"type\"] || \"UnknownError\", message: response[\"result\"][\"message\"] || \"\", code: response[\"result\"][\"code\"] || 0};\n\t}\n\treturn response[\"result\"];\n}\n\n/**\n * @param {object} json_layer\n * @constructor\n */\nfunction ProtocolLayer(json_layer){\n\n\tvar id = 1;\n\n\tthis.send = function(calls){\n\n\t\tvar i, call;\n\t\tvar promises = new Array(calls.length);\n\t\tvar callbacks = [];\n\t\tif(calls.length > 0){\n\n\t\t\tvar formed_calls = new Array(calls.length);\n\n\t\t\tfor(i = 0; i < calls.length; i++){\n\t\t\t\tcall = calls[i];\n\t\t\t\tformed_calls[i] = {\n\t\t\t\t\tservice: call[0],\n\t\t\t\t\tmethod: call[1]\n\t\t\t\t};\n\t\t\t\tif(call[2] && call[2].length > 0){\n\t\t\t\t\tformed_calls[i].parameters = call[2];\n\t\t\t\t}\n\t\t\t\tpromises[i] = new Promise(function(resolve, reject){\n\t\t\t\t\tcallbacks.push([resolve, reject]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar request = {\n\t\t\t\tid: id++,\n\t\t\t\tcalls: formed_calls\n\t\t\t};\n\n\t\t\tjson_layer.send(request).then(function(response){\n\t\t\t\ttry{\n\t\t\t\t\tvar result = extractResult(response);\n\t\t\t\t\tfor(i = 0; i < callbacks.length; i++){\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tvar r = extractResult(result[i]);\n\t\t\t\t\t\t\tcallbacks[i][0](r);\n\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\tcallbacks[i][1](e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}catch(e){\n\t\t\t\t\tfor(i = 0; i < callbacks.length; i++){\n\t\t\t\t\t\tcallbacks[i][1](e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, function(e){\n\t\t\t\tfor(i = 0; i < callbacks.length; i++){\n\t\t\t\t\tcallbacks[i][1](e);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn promises;\n\t}\n\n}\n\nexport default ProtocolLayer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ProtocolLayer.js\n// module id = 3\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\nimport BatchLayer from \"./BatchLayer\";\n\n/**\n * @param {object} protocol_layer\n * @constructor\n */\nfunction RpcClient(protocol_layer){\n\n\tvar client = this;\n\n\tclient.call = function(service, method, params){\n\t\treturn protocol_layer.send([[service, method, params]])[0];\n\t};\n\n\tclient.batch = function(callback){\n\t\tvar batchLayer = new BatchLayer();\n\t\tvar batchClient = new RpcClient(batchLayer);\n\t\tcallback(batchClient);\n\t\treturn batchLayer.flush(protocol_layer);\n\t};\n\n}\n\nexport default RpcClient;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/RpcClient.js\n// module id = 4\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\n/**\n * @param {string} url RPC-server URL\n * @param {function} pre_request_fn hook fn(xhr)\n * @param {function} post_request_fn hook fn(xhr)\n * @constructor\n */\n\nfunction AjaxLayer(url, pre_request_fn, post_request_fn){\n\n\tthis.send = function(request_str){\n\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"POST\", url, true);\n\t\t\txhr.withCredentials = true;\n\t\t\tpre_request_fn && pre_request_fn(xhr);\n\n\t\t\txhr.onload = function(){\n\t\t\t\tpost_request_fn && post_request_fn(xhr, true);\n\t\t\t\tif(this.status >= 200 && this.status < 300){\n\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t}else{\n\t\t\t\t\treject({\n\t\t\t\t\t\tstatus: this.status,\n\t\t\t\t\t\tstatusText: xhr.statusText\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = function(){\n\t\t\t\tpost_request_fn && post_request_fn(xhr, false);\n\t\t\t\treject({\n\t\t\t\t\tstatus: this.status,\n\t\t\t\t\tstatusText: xhr.statusText\n\t\t\t\t});\n\t\t\t};\n\n\t\t\txhr.send(request_str);\n\t\t});\n\n\t}\n}\n\nexport default AjaxLayer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/AjaxLayer.js\n// module id = 5\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\nimport LogLayer from \"./LogLayer\";\nimport JsonLayer from \"./JsonLayer\";\nimport ProtocolLayer from \"./ProtocolLayer\";\nimport RpcClient from \"./RpcClient\";\nimport HookLayer from \"./HookLayer\";\nimport RequestLayer from \"./RequestLayer\";\n\nfunction CreateNodeRpcClient(url, request_fn, options){\n\tvar httpLayer = new RequestLayer(url, request_fn);\n\tvar jsonLayer = new JsonLayer(httpLayer);\n\tvar protocolLayer = new ProtocolLayer(jsonLayer);\n\tvar lo = options && options.log || {};\n\tvar logLayer = new LogLayer(protocolLayer, lo.request, lo.response, lo.error);\n\tvar topLayer = options.hook ? new HookLayer(logLayer, options.hook) : logLayer;\n\treturn new RpcClient(topLayer);\n}\n\nexport default CreateNodeRpcClient;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/CreateNodeRpcClient.js\n// module id = 6\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\n/**\n* @param {string} url RPC-server URL\n* @param {function} request_fn 'request' library fn(requestOptions, callback)\n* @constructor\n*/\nfunction RequestLayer(url, request_fn){\n\n\tthis.send = function(request_str){\n\n\t\treturn new Promise(function(resolve, reject){\n\n\t\t\tvar requestOptions = {\n\t\t\t\tmethod: 'POST',\n\t\t\t\turi: url,\n\t\t\t\tbody: request_str,\n\t\t\t\tjar: true\n\t\t\t};\n\n\t\t\trequest_fn(requestOptions, function(error, response, body){\n\t\t\t\t\tvar status = response && response.statusCode;\n\t\t\t\t\tif(!error && status >= 200 && status < 300){\n\t\t\t\t\t\tresolve(body);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treject({\n\t\t\t\t\t\t\tstatus: status,\n\t\t\t\t\t\t\terror: error\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t});\n\n\t}\n}\n\nexport default RequestLayer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/RequestLayer.js\n// module id = 7\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\nimport CreateNodeRpcClient from './CreateNodeRpcClient';\n\n/**\n * @constructor\n */\nfunction ApiGenerator(url, request_fn){\n\n\tvar log = console.log.bind(console);\n\tvar call = CreateNodeRpcClient(url, request_fn, {log: {error: log}}).call;\n\n\tthis.generate = function(rootClassName, rootContainer){\n\t\treturn loadContainer(rootContainer || null).then(function(tree){\n\t\t\tvar rootClass = generateContainerClass(rootClassName, tree, \"\");\n\t\t\treturn \"// GENERATED CODE\\n\\n\" + rootClass + \"\\nexport default \"  + rootClassName + \";\\n\";\n\t\t}, log);\n\t};\n\n\tfunction loadContainer(pathName){\n\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tcall(\"explorer\", \"getServicesInfo\", [pathName]).then(function(items){\n\t\t\t\tvar subPromises = [];\n\t\t\t\titems.forEach(function(i){\n\t\t\t\t\tif(i.container){\n\t\t\t\t\t\tvar iName = pathName ? pathName + '/' + e.name : i.name;\n\t\t\t\t\t\tsubPromises.push(loadContainer(iName));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsubPromises.push(i);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tPromise.all(subPromises).then(function(items){\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tname: pathName,\n\t\t\t\t\t\tcontainer: true,\n\t\t\t\t\t\titems: items\n\t\t\t\t\t});\n\t\t\t\t}, reject);\n\t\t\t});\n\t\t})\n\t}\n\n\tfunction generateServiceClass(className, serviceDef, indent){\n\t\tvar result = \"\";\n\t\tresult += indent + \"/**\\n\";\n\t\tresult += indent + \" * @constructor\\n\";\n\t\tresult += indent + \" */\\n\";\n\t\tresult += indent + \"function \" + className + \"(call, servicePath){\\n\";\n\t\tserviceDef.methods.forEach(function(m){\n\t\t\tresult += \"\\n\";\n\t\t\tvar params = m.params.join(\", \");\n\t\t\tresult += indent + \"\\t/**\\n\";\n\t\t\tresult += indent + \"\\t * @return {Promise}\\n\";\n\t\t\tresult += indent + \"\\t */\\n\";\n\t\t\tresult += indent + \"\\tthis.\" + m.name + \" = \" + \"function(\" + params + \"){\\n\";\n\t\t\tresult += indent + \"\\t\\treturn call(servicePath, '\" + m.name + \"', [\" + params +\"]);\\n\";\n\t\t\tresult += indent + \"\\t};\\n\";\n\t\t});\n\t\tresult += indent + \"}\\n\";\n\t\treturn result;\n\t}\n\n\tfunction generateContainerClass(className, tree, indent, path){\n\t\tvar result = \"\";\n\t\tvar services = [];\n\t\tresult += indent + \"/**\\n\";\n\t\tresult += indent + \" * @constructor\\n\";\n\t\tresult += indent + \" */\\n\";\n\t\tresult += indent + \"function \" + className + \"(call){\\n\";\n\t\ttree.items.forEach(function(i){\n\t\t\tvar iClass = i.name[0].toUpperCase() + i.name.substr(1);\n\t\t\tvar iVar = i.name;\n\t\t\tvar iPath = path ? path + '/' + i.name : i.name;\n\t\t\tvar service;\n\t\t\tif(i.container){\n\t\t\t\tresult += \"\\n\" + generateContainerClass(iClass, i, indent + \"\\t\", iPath);\n\t\t\t\tservice = indent + \"\\tthis.\" + iVar + \" = new \" + iClass + \"(call);\\n\";\n\t\t\t}else{\n\t\t\t\tresult += \"\\n\" + generateServiceClass(iClass, i, indent + \"\\t\");\n\t\t\t\tservice = indent + \"\\tthis.\" + iVar + \" = new \" + iClass + \"(call, '\" + iPath + \"');\\n\";\n\t\t\t}\n\t\t\tservices.push(service);\n\t\t});\n\t\tresult += \"\\n\" + services.join(\"\") + \"\\n\";\n\t\tresult += indent + \"}\\n\";\n\t\treturn result;\n\t}\n\n}\n\nexport default ApiGenerator;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ApiGenerator.js\n// module id = 8\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\nimport AjaxLayer from \"./AjaxLayer\";\nimport LogLayer from \"./LogLayer\";\nimport JsonLayer from \"./JsonLayer\";\nimport ProtocolLayer from \"./ProtocolLayer\";\nimport HookLayer from \"./HookLayer\";\nimport RpcClient from \"./RpcClient\";\n\nfunction CreateBrowserRpcClient(url, options){\n\tvar httpOpt = options && options.http || {};\n\tvar httpLayer = new AjaxLayer(url, httpOpt.pre_request, httpOpt.post_request);\n\tvar jsonLayer = new JsonLayer(httpLayer);\n\tvar protocolLayer = new ProtocolLayer(jsonLayer);\n\tvar lo = options && options.log || {};\n\tvar logLayer = new LogLayer(protocolLayer, lo.request, lo.response, lo.error);\n\tvar topLayer = options.hook ? new HookLayer(logLayer, options.hook) : logLayer;\n\treturn new RpcClient(topLayer);\n}\n\nexport default CreateBrowserRpcClient;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/CreateBrowserRpcClient.js\n// module id = 9\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\n/**\n * @constructor\n */\nfunction BatchLayer(){\n\n\tvar layer = this;\n\tvar i, calls_acc = [], callbacks_acc = [];\n\n\tlayer.send = function(calls){\n\t\tvar promises = new Array(calls.length);\n\t\tcalls_acc = calls_acc.concat(calls);\n\t\tfor(i = 0; i < calls.length; i++){\n\t\t\tpromises[i] = new Promise(function(resolve, reject){\n\t\t\t\tcallbacks_acc.push([resolve, reject]);\n\t\t\t});\n\t\t}\n\t\treturn promises;\n\t};\n\n\tlayer.flush = function(protocol_layer){\n\t\tvar promises = protocol_layer.send(calls_acc);\n\t\tfor(var i = 0; i < callbacks_acc.length; i++){\n\t\t\tpromises[i].then(callbacks_acc[i][0], callbacks_acc[i][1]);\n\t\t}\n\t\treturn promises;\n\t};\n\n}\n\nexport default BatchLayer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/BatchLayer.js\n// module id = 10\n// module chunks = 0","/* author: Ponomarev Denis <ponomarev@gmail.com> */\n\nimport AjaxLayer from \"./AjaxLayer\";\nimport LogLayer from \"./LogLayer\";\nimport JsonLayer from \"./JsonLayer\";\nimport HookLayer from \"./HookLayer\";\nimport ProtocolLayer from \"./ProtocolLayer\";\nimport RpcClient from \"./RpcClient\";\nimport RequestLayer from \"./RequestLayer\";\nimport CreateNodeRpcClient from './CreateNodeRpcClient';\nimport CreateBrowserRpcClient from './CreateBrowserRpcClient';\nimport ApiGenerator from './ApiGenerator';\n\nexport {AjaxLayer, LogLayer, JsonLayer, HookLayer, ProtocolLayer, RpcClient, RequestLayer,\n\tCreateNodeRpcClient, CreateBrowserRpcClient,\n\tApiGenerator};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}